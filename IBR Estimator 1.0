#This program is intended to take manual input from a user and use it to calculate what a monthly payment on the
#Income-Based Repayment plan would be

#Establishing loop
while True:

    #The opening message
    print("Welcome to the IBR Plan Payment Estimator!\n")

    #Taking user input for spousal information
    spouse = input("Are you currently single or married? Enter 's' for single or 'm' for married.\n")

    #Making sure input is correct
    while spouse.lower() != "s" and spouse.lower() != "m":
        print("Please enter 's' or 'm'.")
        spouse = input("Are you current single or married? Enter 's' for single or 'm' for married.\n")

    #Collecting tax filing status if necessary
    taxes = ""
    if spouse.lower() == "m":
        taxes = input("Do you file taxes separately or jointly. Enter 's' for separately or 'j' for jointly.\n")
        while taxes.lower() != "j" and taxes.lower() != "s" and taxes.lower() != "r":
            print("Please enter 's' or 'j'.\n")
            taxes = input("Do you file taxes separately or jointly? Enter 's' for separately or 'j' for jointly.\n")
    else:
        pass

    #Collecting number of child dependents
    children = ""
    while type(children) is not int:
        children = input("How many children do you provide more than half of their financial support to?\n")
        try:
            children = int(children)
        except ValueError:
            print("Please enter a number.\n")

    #Collecting number of non-child dependents
    o_dependents = ""
    while type(o_dependents) is not int:
        o_dependents = input("How many non-children dependents do you provide more than half of their financial support to?\n")
        try:
            o_dependents = int(o_dependents)
        except ValueError:
            print("Please enter a number.\n")

    #Collecting income
    income = ""
    while type(income) is not int:
        income = input("What is your current annual gross income?\n")
        try:
            income = int(income)
        except ValueError:
            print("Please enter a number.\n")

    #Adding Spousal Income
    spouse_income = ""
    if taxes.lower() == "j":
        while type(spouse_income) is not int:
            spouse_income = input("What is your spouse's annual gross income?\n")
            try:
                spouse_income = int(spouse_income)
            except ValueError:
                print("Please enter a number.\n")
    else:
        spouse_income = 0

    #Converting input to usable integers
    num_spouse = 0
    if spouse.lower() == "s":
        num_spouse = 0
    else:
        if taxes.lower() == "s":
            num_spouse = 0
        else:
            num_spouse = 1

    #Combining Income
    total_income = income + spouse_income

    #Calculating family size based on answers
    family = 1 + children + o_dependents + num_spouse

    #Producing the calculation and outputting the result

    payment = 0
    if family == 1:
        payment = round((total_income - 23475) / 120, 2)
        if payment <= 0:
            payment = 0
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
        else:
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
    elif family == 2:
        payment = round((total_income - 31725) / 120, 2)
        if payment <= 0:
            payment = 0
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
        else:
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
    elif family == 3:
        payment = round((total_income - 39975) / 120, 2)
        if payment <= 0:
            payment = 0
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
        else:
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
    elif family == 4:
        payment = round((total_income - 48225) / 120, 2)
        if payment <= 0:
            payment = 0
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
        else:
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
    elif family == 5:
        payment = round((total_income - 56475) / 120, 2)
        if payment <= 0:
            payment = 0
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
        else:
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
    elif family == 6:
        payment = round((total_income - 64725) / 120, 2)
        if payment <= 0:
            payment = 0
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
        else:
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
    elif family == 7:
        payment = round((total_income - 72975) / 120, 2)
        if payment <= 0:
            payment = 0
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
        else:
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
    elif family == 8:
        payment = round((total_income - 81225) / 120, 2)
        if payment <= 0:
            payment = 0
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
        else:
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
    elif family == 9:
        payment = round((total_income - 89475) / 120, 2)
        if payment <= 0:
            payment = 0
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
        else:
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
    elif family == 10:
        payment = round((total_income - 97725) / 120, 2)
        if payment <= 0:
            payment = 0
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
        else:
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
    elif family == 11:
        payment = round((total_income - 105975) / 120, 2)
        if payment <= 0:
            payment = 0
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
        else:
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
    elif family == 12:
        payment = round((total_income - 114225) / 120, 2)
        if payment <= 0:
            payment = 0
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
        else:
            print("Your estimated monthly payment on the PAYE Plan is $" + str(payment) + ".\n")
